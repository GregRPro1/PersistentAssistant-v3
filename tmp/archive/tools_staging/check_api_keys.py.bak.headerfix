# --- PA_ROOT_IMPORT ---
import sys, pathlib
ROOT = pathlib.Path(__file__).resolve().parents[1]
if str(ROOT) not in sys.path:
    sys.path.insert(0, str(ROOT))
# --- /PA_ROOT_IMPORT ---
# =============================================================================
# File: tools/check_api_keys.py
# Persistent Assistant v3 â€“ Key Presence & Masked Report
# Author: G. Rapson | GR-Analysis
# Created: 2025-08-19 09:45 BST
# Update History:
#   - 2025-08-19 09:45 BST: Emit JSON SUMMARY for GUI
# =============================================================================

from __future__ import annotations
import json
from tools._env import load_keys, mask_key

def main():
    ks = load_keys()
    masked = {prov: mask_key(ks.get(prov)) for prov in ("openai","anthropic","groq","google","deepseek")}
    print("SUMMARY: " + json.dumps({"keys": masked}, separators=(",", ":")))

if __name__ == "__main__":
    main()
